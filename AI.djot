# AI Assistant Specification — TANGLE

## Machine-Readable Artefacts

The `.machine_readable/` directory contains structured metadata required for automated reasoning and project introspection.

- `STATE.scm`: Current project state, milestones, and progress.
- `META.scm`: Architecture decisions, development methodology, and rationale.
- `ECOSYSTEM.scm`: Ecosystem placement, upstream/downstream relationships, and interoperability.
- `AGENTIC.scm`: AI agent interaction patterns, affordances, and constraints.
- `NEUROSYM.scm`: Neurosymbolic integration configuration and hybrid reasoning settings.
- `PLAYBOOK.scm`: Operational runbook, workflows, and incident procedures.

Additional artefact:

- `AI.djot`: AI Assistant behavioural and operational instructions (this file).

## Project Context

TANGLE is a Turing-complete topological programming language where:
- Programs are isotopy classes of tangles (braided strands in 3D space)
- Computation proceeds via braiding — strand crossings define operations
- Two type sorts: Word[n] (matchable braid data) and Tangle[A,B] (morphisms)
- TANGLE-JTV extends with add{} (total arithmetic) and harvard{} (imperative control)

**Specification is COMPLETE.** Implementation phase beginning.

## Repository Roots

- Local repository root: `/var/mnt/eclipse/repos/tangle`
- Remote: `https://github.com/hyperpolymath/tangle`
- Mirrors: GitLab (hyperpolymath/tangle)

## Key Specification Files

- `src/tangle.ebnf` — Base TANGLE grammar (ISO/IEC 14977 EBNF)
- `src/tangle-jtv.ebnf` — Extended grammar with JTV injection blocks
- `docs/spec/DECISIONS-LOCKED.md` — All 44 locked design decisions
- `docs/spec/FORMAL-SEMANTICS.md` — 37+ typing rules, 26+ evaluation rules
- `SONNET-TASKS.md` — 11 implementation tasks, prioritized

## AI CLI Standards

- Include `ai-cli-crash-capture/` and `contractiles/` from template in all work
- Machine-readable files in `.machine_readable/` ONLY (never root)
- Before generating implementation code, consult FORMAL-SEMANTICS.md for rules
- Every typing rule and evaluation rule must have a corresponding test case

## Language Policy

### Allowed Languages and Tools

| Language/Tool | Use Case | Notes |
|---------------|----------|-------|
| Rust | Parser, type checker, evaluator, CLI | Primary implementation |
| Idris2 | ABI definitions | In src/abi/ |
| Zig | FFI bridge | In ffi/zig/ |
| EBNF | Grammar specification | ISO/IEC 14977 |
| Bash/POSIX Shell | Build scripts | Keep minimal |

### Banned Languages and Tools

| Banned | Replacement |
|--------|-------------|
| TypeScript | Rust |
| Node.js | Deno (if JS needed) |
| Go | Rust |
| Python | Rust |

## Security Requirements

- Do not use MD5 or SHA-1; use SHA-256 or stronger.
- Use HTTPS only.
- Do not hardcode secrets.
- Pin all dependencies by SHA.
- Include SPDX license headers in all files (`PMPL-1.0-or-later`).
