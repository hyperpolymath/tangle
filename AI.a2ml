# AI Assistant Instructions — TANGLE

## Repository Focus

- `tangle` is a Turing-complete topological programming language
- TANGLE-JTV extends it with Julia-the-Viper injection blocks
- Specification is COMPLETE — implementation phase beginning
- Treated as a Rhodium Standard Repository; obey RSR policies

## Key Files

- `SONNET-TASKS.md` — Implementation task list (start here for coding)
- `docs/spec/DECISIONS-LOCKED.md` — 44 locked design decisions (do NOT modify)
- `docs/spec/FORMAL-SEMANTICS.md` — Typing rules and operational semantics
- `src/tangle.ebnf` — Base grammar
- `src/tangle-jtv.ebnf` — Extended grammar with JTV blocks

## Critical Invariants

1. **Word[n] != Tangle[A,B]** — two different types with implicit coercion
2. **~ means isotopy** — mathematical equality in FR(T), not AST comparison
3. **add{} is TOTAL** — no loops, no recursion, no side effects
4. **Three environments** — Γ (TANGLE), Δ (Harvard full), Π (pure subset)
5. **Auto-widening is a homomorphism** — B_n embeds into B_{n+1} via stabilization

## Workflow

1. Read `SONNET-TASKS.md` for implementation priorities
2. Read `.machine_readable/STATE.scm` for current status
3. Consult `docs/spec/FORMAL-SEMANTICS.md` for typing/eval rules
4. After edits, update STATE.scm and commit with concise imperative message

## Delivery Promises

- Mention in summaries whether STATE, `contractiles/`, or `.bot_directives/` changed
- Keep this file in sync with the repository status
- Run tests before committing implementation changes
